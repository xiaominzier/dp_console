<!DOCTYPE html>
<html class="x-admin-sm">
<head>
    <meta charset="UTF-8">
    <title>添加地区</title>
    <link rel="stylesheet" href="/staticResource/css/font.css">
    <link rel="stylesheet" href="/staticResource/css/xadmin.css">
    <script src="/staticResource/lib/layui/layui.js" charset="utf-8"></script>
    <script src="/staticResource/lib/common-js/xadmin.js" charset="utf-8"></script>
</head>
<body>
<script type="text/javascript" src="/staticResource/lib/jsencrypt/jsencrypt.js"></script>
<script type="text/javascript" src="/staticResource/lib/jsencrypt/aes.mini.js"></script>
<script type="text/javascript" src="/staticResource/lib/common-js/jquery.min.js"></script>
<script src="/staticResource/lib/common-js/util.js"></script>
<div class="layui-fluid" style="padding-top: 15px;padding-bottom: 15px;padding-left: 50px;padding-right: 50px">
    <form class="layui-form" id="formid">

        <style>
            .text-align{
                text-align: left;
            }
            .ml{
                margin-left: 13px;
            }
            .text-align-c{
                text-align: center;
                margin: 0;
                font-size: 18px;
            }
        </style>
        <div class="layui-form-item text-align-c">
            <label class="layui-form-label text-align-c">
                <strong>添加地区</strong>
            </label>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label text-align">所属地区</label>
            <label class="layui-form-label text-align"><strong>无</strong></label>
        </div>  
        <div class="layui-form-item">
            <div>
                <input type="text" name="areaName" lay-verify="required" placeholder="输入地区名称" autocomplete="off"
                       class="layui-input ml" id="areaName">
                <label class="layui-form-label text-align">20字以内</label>
            </div>
        </div>  
        <div class="layui-form-item">
            <div class="ml">
                <input type="radio" class="status" id="on" name="status" value="启用" title="启用" checked>
                <input type="radio" class="status" id="off" name="status" value="禁用" title="禁用">
                </div>
            </div>
        </div> 
        <div class="layui-form-item">
            <div class="layui-input-block" >
                <button class="layui-btn layui-btn-danger" id="cancelbtn" lay-filter="cancel"><i class="layui-icon">&#x1006;</i>取消
                </button>
                <button class="layui-btn" lay-submit lay-filter="add"><i class="layui-icon">&#xe61f;</i>保存</button>
            </div>
        </div>    
    </form>

</div>


<script>
    layui.use(['form', 'jquery'], function () {
        var form = layui.form;
        var $ = layui.jquery;
        // var areaName = $("#areaName").val();
        // var status = $(".status");
        // for(var i=0;i<status.length;i++){
        //     if(status[i]=='启用'){

        //     }
        // }
        // form.on('submit(add)', function (data) {
        //     // data.areaName = areaName;
        //     data = data.field;
        //     if(data.status=='启用'){
        //         data.status=1;
        //     }else if(data.status=='禁用'){
        //         data.status=0;
        //     }
        //     data.parentId=0;  //添加地区时，给parentId赋值为0
        //     console.log("o%",data);
        //     $.ajax({
        //         type: 'POST',
        //         dataType: 'json',
        //         contentType: 'application/json',
        //         url: apiPath+'/user/impAreaInfo/save',
        //         data: JSON.stringify(data),
        //         success: function (res) {
        //             if (res && res.code == 0) {
        //                 // top.layer.msg('保存成功');
                        
        //                 layer.msg('保存成功', {time:1000},function(){  //延时跳转并提示
        //                     var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
        //                     parent.location.reload();//刷新父页面，注意一定要在关闭当前iframe层之前执行刷新
        //                     parent.layer.close(index); //再执行关闭
        //                 });
        //             } else {
        //                 top.layer.msg('保存失败');
        //             }
        //         }

        //     })
        //     return false;
        // });


        form.on('submit(add)', function (data) {
            data = data.field;
            console.log("o%",data);
            // $.ajax({
            //     type: 'POST',
            //     dataType: 'json',
            //     contentType: 'application/json',
            //     url: '/cooperative/add',
            //     data: JSON.stringify(data),
            //     success: function (res) {

            //         if (res && res.code == 0) {
            //             top.layer.msg('保存成功');
            //             var src = $(top.document).find("iframe[tab-id='" + fid + "']").attr("src");
            //             $(top.document).find("iframe[tab-id='" + fid + "']").attr("src", src);
            //             // 切换到对应到选项卡下
            //             top.element.tabChange('xbs_tab', fid);
            //             // 关闭顶层框架tab
            //             var id = self.frameElement.getAttribute("tab-id");
            //             top.element.tabDelete('xbs_tab', id);
            //         } else {
            //             top.layer.msg('保存失败');
            //         }
            //     }

            // })
            return false;
        });

        $('#cancelbtn').on('click', function () {
            var index = parent.layer.getFrameIndex(window.name);//获取窗口索引      
            parent.layer.close(index);
        });
    });
    

</script>


</body>
</html>
